mixed-port: 7890
allow-lan: true
bind-address: '*'
mode: rule
log-level: info
external-controller: '127.0.0.1:9090'
ipv6: false

# DNS: 保守兼容，将 nameserver/fallback 替换为常见 IP，原始 DoH/DoT 列表作为注释保留
dns:
  enable: true
  ipv6: false
  default-nameserver: [223.5.5.5, 119.29.29.29]
  fake-ip-range: 198.18.0.1/16
  use-hosts: false
  # original-nameserver: ['https://doh.pub/dns-query', 'https://dns.alidns.com/dns-query']
  nameserver: [223.5.5.5, 119.29.29.29]
  # original-fallback: ['https://doh.dns.sb/dns-query', 'https://dns.cloudflare.com/dns-query', 'https://dns.twnic.tw/dns-query', 'tls://8.8.4.4:853']
  fallback: [8.8.4.4, 1.0.0.1]
  fallback-filter: { geoip: false, ipcidr: [240.0.0.0/4, 0.0.0.0/32] }

proxies:
  - name: '香港1g-1x'
    type: trojan
    server: ali.ty7.fun
    port: 39210
    password: 00637334-047f-48e8-b659-f78c717fa7e9
    udp: true
    skip-cert-verify: true
    sni: bilibili.com
  - name: '香港HKT1|1x'
    type: vmess
    server: hkt.lajichang.xyz
    port: 2052
    cipher: auto
    uuid: c6d33e4e-c01a-4ec0-82d3-c4c18f451e4c
    alterId: 0
    tls: false
    network: ws
    ws-opts:
      path: /7e60be4f/
      headers:
        Host: hkt.lajichang.xyz
    # removed: client-fingerprint (可能在部分旧版本不被识别)
  - name: '台湾-hinet 1x'
    type: trojan
    server: 8.163.1.25
    port: 41811
    password: 00637334-047f-48e8-b659-f78c717fa7e9
    udp: true
    skip-cert-verify: true
    sni: bilibili.com
  - name: '台湾-eco 1x'
    type: trojan
    server: ali.ty7.fun
    port: 51931
    password: 00637334-047f-48e8-b659-f78c717fa7e9
    udp: true
    skip-cert-verify: true
    sni: bilibili.com
  - name: '台湾-V01'
    type: vmess
    server: v93.nodemo.top
    port: 1008
    uuid: 7f49bd74-62d7-41fb-b32c-97e18a1aef49
    alterId: 0
    cipher: auto
    udp: true
    tls: true
    network: ws
    ws-opts:
      path: /
      headers:
        Host: v93.nodemo.top
    # removed: servername (保守起见，如遇问题可恢复)
  - name: '台湾Hinet'
    type: vless
    server: kbgs.hinet.tw1.yydjc.top
    port: 443
    uuid: b527363c-efb8-4a3f-9209-cdeb18349afd
    udp: true
    tls: true
    skip-cert-verify: false
    # removed: flow (xtls-rprx-vision) - XTLS 依赖较新实现，部分构建不支持
    # removed: client-fingerprint
    # removed: reality-opts (可能导致不被识别或报错)
    network: tcp
  - name: '新加坡'
    type: trojan
    server: ali.ty7.fun
    port: 42729
    password: 00637334-047f-48e8-b659-f78c717fa7e9
    udp: true
    skip-cert-verify: true
    sni: bilibili.com
  - name: '日本 02'
    type: vless
    server: hy11.hy2yydsapi.top
    port: 8080
    uuid: 9c23940e-efd8-4763-bfb5-54739b50893d
    alterId: 0
    cipher: auto
    udp: true
    tls: true
    # removed: flow (xtls-rprx-vision)
    # removed: reality-opts
    network: tcp
    # removed: client-fingerprint
  - name: '动态-pqs'
    type: trojan
    server: ali.ty7.fun
    port: 32388
    password: 00637334-047f-48e8-b659-f78c717fa7e9
    udp: true
    skip-cert-verify: true
    sni: bilibili.com
  - name: '日本-S02'
    type: ss
    server: s2.nodemo.top
    port: 1260
    cipher: chacha20-ietf-poly1305
    password: 7f49bd74-62d7-41fb-b32c-97e18a1aef49
    udp: true
  - name: '日本'
    type: trojan
    server: ali.ty7.fun
    port: 22225
    password: 00637334-047f-48e8-b659-f78c717fa7e9
    udp: true
    skip-cert-verify: true
    sni: bilibili.com

proxy-groups:
  - { name: 优选, type: select, proxies: [自动选择, '香港1g-1x', '香港HKT1|1x', '台湾-hinet 1x', '台湾-eco 1x', '台湾-V01', '台湾Hinet', '新加坡', '日本 02', '动态-pqs', '日本-S02', '日本'] }
  - { name: 自动选择, type: url-test, proxies: ['香港1g-1x', '香港HKT1|1x', '台湾-hinet 1x', '台湾-eco 1x', '台湾-V01', '台湾Hinet', '新加坡', '日本 02', '动态-pqs', '日本-S02', '日本'], url: 'http://www.gstatic.com/generate_204', interval: 300 }
  - { name: Ai网站, type: select, proxies: ['台湾-hinet 1x', '台湾-eco 1x', '台湾-V01', '台湾Hinet', '新加坡', '日本 02', '动态-pqs', '日本-S02', '日本'] }

# rules: 保持原样
rules:
  - 'IP-CIDR,210.16.183.52/32,DIRECT,no-resolve'
  - 'IP-CIDR,210.16.183.53/32,DIRECT,no-resolve'
  - 'IP-CIDR,210.16.183.62/32,DIRECT,no-resolve'
  - 'IP-CIDR,210.16.183.58/32,DIRECT,no-resolve'
  - 'IP-CIDR,210.16.183.61/32,DIRECT,no-resolve'
  - 'IP-CIDR,210.16.183.57/32,DIRECT,no-resolve'
  - 'IP-CIDR,223.166.23.210/32,DIRECT,no-resolve'
  - 'IP-CIDR,107.189.3.254/32,DIRECT,no-resolve'
  - 'IP-CIDR,203.32.26.236/32,DIRECT,no-resolve'
  - 'IP-CIDR,154.16.248.199/32,DIRECT,no-resolve'
  - 'IP-CIDR,38.180.107.224/32,DIRECT,no-resolve'
  - 'IP-CIDR,205.185.123.254/32,DIRECT,no-resolve'
  - 'IP-CIDR,156.229.165.241/32,DIRECT,no-resolve'
  - 'IP-CIDR,147.45.49.57/32,DIRECT,no-resolve'
  - 'IP-CIDR,156.248.8.116/32,DIRECT,no-resolve'
  - 'DOMAIN,b3f-ig.fg1.icu,DIRECT'
  - 'DOMAIN-SUFFIX,apis.google.com,Ai网站'
  - 'DOMAIN-KEYWORD,grok,Ai网站'
  - 'DOMAIN-KEYWORD,cursor,Ai网站'
  - 'DOMAIN-KEYWORD,colab,Ai网站'
  - 'DOMAIN-SUFFIX,x.ai,Ai网站'
  - 'DOMAIN-KEYWORD,developerprofiles,Ai网站'
  - 'DOMAIN-KEYWORD,generativelanguage,Ai网站'
  - 'DOMAIN-KEYWORD,colab,Ai网站'
  - 'DOMAIN-SUFFIX,services.googleapis.cn,优选'
  - 'DOMAIN-SUFFIX,xn--ngstr-lra8j.com,优选'
  - 'MATCH,优选'
